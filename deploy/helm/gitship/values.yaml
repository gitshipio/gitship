# Default values for gitship.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: gitshipio/gitship-controller
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  # tag: ""

dashboard:
  image:
    repository: gitshipio/gitship-dashboard
    # tag: "latest"
  service:
    type: ClusterIP
    port: 3000
  ingress:
    enabled: false
    className: "nginx"
    hosts:
      - host: gitship.local
        paths:
          - path: /
            pathType: ImplementationSpecific

registry:
  enabled: true # Whether to deploy the internal registry
  persistence:
    enabled: false
    size: 20Gi
    storageClassName: "" # Leave empty for default

controller:
  config:
    registryPushUrl: "" # Defaults to internal service
    registryPullUrl: "" # Defaults to RegistryPushUrl
    systemNamespace: "gitship-system"
    ingressClassName: "nginx"
    defaultStorageClass: "" # Used for App PVCs if not specified
    images:
      git: "alpine/git"
      kaniko: "gcr.io/kaniko-project/executor:latest"

quotas:
  pods: "20"
  storage: "10Gi"
  requests:
    cpu: "4"
    memory: "8Gi"
  limits:
    cpu: "8"
    memory: "16Gi"

github:
  clientId: ""
  clientSecret: ""
  appName: ""
  webhookSecret: ""

auth:
  secret: "change-me-to-a-random-string"
  existingSecret: "" # Use an existing secret for AUTH_SECRET, AUTH_GITHUB_ID, etc.
  # url: "https://gitship.local" # Optional: Specify to override dynamic detection
